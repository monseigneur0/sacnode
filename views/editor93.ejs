<!doctype html>

<title>CodeMirror</title>
<meta charset="utf-8"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<link rel=stylesheet href="static/codemirror/lib/codemirror.css">
<link rel=stylesheet href="static/codemirror/doc/docs.css">
<script src="static/codemirror/lib/codemirror.js"></script>
<script src="static/codemirror/mode/xml/xml.js"></script>
<script src="static/codemirror/mode/javascript/javascript.js"></script>
<script src="static/codemirror/mode/css/css.js"></script>
<script src="static/codemirror/mode/htmlmixed/htmlmixed.js"></script>
<script src="static/codemirror/addon/edit/matchbrackets.js"></script>
<script src="static/codemirror/doc/activebookmark.js"></script>


<style>
    .CodeMirror { height: auto; border: 1px solid #ddd; }
    .CodeMirror-scroll { max-height: 200px; }
    iframe {
        bottom: 0;
        position: relative;
        width: 100%;
        height: 15em;
    }
</style>

<div id=nav>
    <a href="https://codemirror.net"><h1>CodeMirror</h1><img id=logo src="../doc/logo.png"></a>

    <ul>
        <li><a href="../index.html">Home</a>
        <li><a href="../doc/manual.html">Manual</a>
        <li><a href="https://github.com/codemirror/codemirror">Code</a>
    </ul>
    <ul>
        <li><a class=active href="#">Autocomplete</a>
    </ul>
</div>
<h2>This is CodeMirror</h2>
<textarea id=demotext>
<h1>되냐</h1>
            </textarea>
<button type="button"></button>
<iframe id="code"></iframe>

<script>
    var editor = CodeMirror.fromTextArea(document.getElementById("demotext"), {
        lineNumbers: true,
        mode: "text/html",
        matchBrackets: true
    });
    $(function() {
        $("button").on("click", function() {
            $('#code').contents().find('html').html($("#demotext").val());
        });
    });
    var html = document.getElementById("demotext");
    var code = document.getElementById("code").contentWindow.document;
    console.log(html.value)
    document.body.onkeyup = function() {
        code.open();

        code.writeln( html.value );

        code.close();
    };
</script>